<!DOCTYPE html><html class="theme-next gemini use-motion" lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#222"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4"><link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222"><meta name="keywords" content="Spring,xsd,"><link rel="alternate" href="/atom.xml" title="Menglong's blog" type="application/atom+xml"><meta name="description" content="引言 从Spring2.0开始，Spring提供了XML Schema可扩展机制，用户可以自定义XML Schema文件，并自定义XML Bean解析器，并集成到Spring Ioc 容器中  在我们日常配置Spring的xml文件过程中，使用的标签都是spring定义好的，例如这种，我们也可以遵从spring对于XML Schema Definition(XSD)定义的文档，实现自定义XSD"><meta name="keywords" content="Spring,xsd"><meta property="og:type" content="article"><meta property="og:title" content="Spring自定义标签-xsd"><meta property="og:url" content="https://zml1.github.io/2018/09/10/Spring自定义标签-xsd/index.html"><meta property="og:site_name" content="Menglong&#39;s blog"><meta property="og:description" content="引言 从Spring2.0开始，Spring提供了XML Schema可扩展机制，用户可以自定义XML Schema文件，并自定义XML Bean解析器，并集成到Spring Ioc 容器中  在我们日常配置Spring的xml文件过程中，使用的标签都是spring定义好的，例如这种，我们也可以遵从spring对于XML Schema Definition(XSD)定义的文档，实现自定义XSD"><meta property="og:locale" content="zh-Hans"><meta property="og:image" content="https://zml1.github.io/2018/09/10/Spring自定义标签-xsd/xsd位置.jpg"><meta property="og:updated_time" content="2018-09-11T01:20:08.866Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Spring自定义标签-xsd"><meta name="twitter:description" content="引言 从Spring2.0开始，Spring提供了XML Schema可扩展机制，用户可以自定义XML Schema文件，并自定义XML Bean解析器，并集成到Spring Ioc 容器中  在我们日常配置Spring的xml文件过程中，使用的标签都是spring定义好的，例如这种，我们也可以遵从spring对于XML Schema Definition(XSD)定义的文档，实现自定义XSD"><meta name="twitter:image" content="https://zml1.github.io/2018/09/10/Spring自定义标签-xsd/xsd位置.jpg"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Gemini",version:"5.1.4",sidebar:{position:"left",display:"post",offset:12,b2t:!1,scrollpercent:!1,onmobile:!1},fancybox:!0,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},duoshuo:{userId:"0",author:"博主"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="https://zml1.github.io/2018/09/10/Spring自定义标签-xsd/"><title>Spring自定义标签-xsd | Menglong's blog</title></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div> <a href="https://github.com/zml1" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513;color:#fff;position:absolute;top:0;border:0;right:0" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">Menglong's blog</span><span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle"></p></div><div class="site-nav-toggle"> <button><span class="btn-bar"></span><span class="btn-bar"></span><span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br> 首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br> 归档</a></li></ul></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://zml1.github.io/2018/09/10/Spring自定义标签-xsd/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Menglong"><meta itemprop="description" content=""><meta itemprop="image" content="/images/avatar.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Menglong's blog"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Spring自定义标签-xsd</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-09-10T11:58:08+08:00">2018-09-10</time></span> <span class="post-category"><span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Spring/" itemprop="url" rel="index"><span itemprop="name">Spring</span></a></span></span></div></header><div class="post-body" itemprop="articleBody"><h3 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h3><blockquote><p>从Spring2.0开始，Spring提供了XML Schema可扩展机制，用户可以自定义XML Schema文件，并自定义XML Bean解析器，并集成到Spring Ioc 容器中</p></blockquote><p>在我们日常配置Spring的xml文件过程中，使用的标签都是spring定义好的，例如<bean>这种，我们也可以遵从spring对于XML Schema Definition(XSD)定义的文档，实现自定义XSD<br><a id="more"></a></bean></p><p><strong>实现自定义文档</strong></p><p>大体就分为如下四个步骤</p><ul><li>1.创建自定义的XML Schema文件(xsd)</li><li>2.自定义处理器(实现NamespaceHandler接口)</li><li>3.自定义解析器(实现BeanDefinitionParser接口，可实现多个)</li><li>4.注册到Spring的IOC中</li></ul><h2 id="1-创建自定义的XML-Schema文件"><a href="#1-创建自定义的XML-Schema文件" class="headerlink" title="1.创建自定义的XML Schema文件"></a>1.创建自定义的XML Schema文件</h2><p>在classpath资源路径下加入文件(play.xsd)：<br><img src="xsd位置.jpg" alt="xsd位置"></p><p>文件内容如下</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">xsd:schema</span> <span class="attr">xmlns</span>=<span class="string">"http://zml1.github.io/play"</span></span></span><br><span class="line"><span class="tag">			<span class="attr">xmlns:xsd</span>=<span class="string">"http://www.w3.org/2001/XMLSchema"</span></span></span><br><span class="line"><span class="tag">			<span class="attr">xmlns:beans</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">			<span class="attr">targetNamespace</span>=<span class="string">"http://zml1.github.io/play"</span></span></span><br><span class="line"><span class="tag">			<span class="attr">elementFormDefault</span>=<span class="string">"qualified"</span> <span class="attr">attributeFormDefault</span>=<span class="string">"unqualified"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">xsd:import</span> <span class="attr">namespace</span>=<span class="string">"http://www.springframework.org/schema/beans"</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">xsd:element</span> <span class="attr">name</span>=<span class="string">"ball"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">xsd:complexType</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">xsd:complexContent</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">xsd:extension</span> <span class="attr">base</span>=<span class="string">"beans:identifiedType"</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">xsd:attribute</span> <span class="attr">name</span>=<span class="string">"name"</span> <span class="attr">type</span>=<span class="string">"xsd:string"</span> <span class="attr">use</span>=<span class="string">"required"</span>/&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">xsd:attribute</span> <span class="attr">name</span>=<span class="string">"type"</span> <span class="attr">type</span>=<span class="string">"xsd:string"</span> <span class="attr">use</span>=<span class="string">"required"</span>/&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">xsd:attribute</span> <span class="attr">name</span>=<span class="string">"size"</span> <span class="attr">type</span>=<span class="string">"xsd:string"</span> <span class="attr">use</span>=<span class="string">"optional"</span>/&gt;</span></span><br><span class="line">				<span class="tag">&lt;/<span class="name">xsd:extension</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">xsd:complexContent</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">xsd:complexType</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">xsd:element</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">xsd:schema</span>&gt;</span></span><br></pre></td></tr></table></figure><p>定义了命名空间为<code>http://zml1.github.io/play</code>，包含元素ball，有name,type和size属性，use代表是否必填</p><h2 id="2-自定义处理器NamespaceHandler"><a href="#2-自定义处理器NamespaceHandler" class="headerlink" title="2.自定义处理器NamespaceHandler"></a>2.自定义处理器NamespaceHandler</h2><p>NamespaceHandler用于解析刚刚定义好的XML Schema文件。我们可以看到此接口包含三个方法<br></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">NamespaceHandler</span> </span>&#123;</span><br><span class="line">	<span class="comment">//在构造之后但在解析任何自定义元素之前由DefaultBeanDefinitionDocumentReader调用,负责初始化</span></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>;</span><br><span class="line">	<span class="comment">//解析指定的Element并注册</span></span><br><span class="line">	<span class="function">BeanDefinition <span class="title">parse</span><span class="params">(Element var1, ParserContext var2)</span></span>;</span><br><span class="line">	<span class="comment">//解析指定的Node并装饰提供的BeanDefinitionHolder，返回装饰后的定义</span></span><br><span class="line">	<span class="function">BeanDefinitionHolder <span class="title">decorate</span><span class="params">(Node var1, BeanDefinitionHolder var2, ParserContext var3)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>Spring提供了一个默认的实现类NamespaceHandlerSupport,我们只需要在init的时候注册每个元素的解析器即可。<br></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BallNamespaceHandler</span> <span class="keyword">extends</span> <span class="title">NamespaceHandlerSupport</span> </span>&#123; </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123; </span><br><span class="line">        registerBeanDefinitionParser(<span class="string">"ball"</span>, <span class="keyword">new</span> BallParser()); </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>Spring在这里采用了设计模式中的委托模式，NamespaceHandlerSupport可以注册任意数量的BeanDefinitionParser(也就是BallParser)，而解析XML的工作委托给了BeanDefinitionParser(BallParser)负责。</p><h2 id="3-自定义解析器BeanDefinitionParser"><a href="#3-自定义解析器BeanDefinitionParser" class="headerlink" title="3.自定义解析器BeanDefinitionParser"></a>3.自定义解析器BeanDefinitionParser</h2><p>在BeanDefinitionParser被调用时，如果在NamespapceHandler中已有对应注册的parser(例如上面的BallParser)就解析相应的属性设置到Bean中。下面使用的是自定义解析bean，当然可以继承AbstractSingleBeanDefinitionParser类来简化解析过程。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BallParser</span> <span class="keyword">implements</span> <span class="title">BeanDefinitionParser</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> BeanDefinition <span class="title">parse</span><span class="params">(Element element, ParserContext parserContext)</span> </span>&#123;</span><br><span class="line">        String name = element.getAttribute(<span class="string">"name"</span>);</span><br><span class="line">        String type = element.getAttribute(<span class="string">"type"</span>);</span><br><span class="line">        String size = element.getAttribute(<span class="string">"size"</span>);</span><br><span class="line">        <span class="comment">//定义Bean</span></span><br><span class="line">        RootBeanDefinition beanDefinition = <span class="keyword">new</span> RootBeanDefinition();</span><br><span class="line">        beanDefinition.setBeanClass(Ball.class);</span><br><span class="line">        beanDefinition.setLazyInit(<span class="keyword">false</span>);</span><br><span class="line">        beanDefinition.getPropertyValues().addPropertyValue(<span class="string">"type"</span>, type);</span><br><span class="line">        beanDefinition.getPropertyValues().addPropertyValue(<span class="string">"size"</span>, size);</span><br><span class="line">        </span><br><span class="line">        parserContext.getRegistry().registerBeanDefinition(name, beanDefinition);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> beanDefinition;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4-注册到Spring-handler和schema"><a href="#4-注册到Spring-handler和schema" class="headerlink" title="4.注册到Spring(handler和schema)"></a>4.注册到Spring(handler和schema)</h2><p>在最开始我们看到在classpath资源路径下不仅有test.xsd,还有spring.handlers和spring.schemas这两个文件。这两个文件是为了让Spring在解析xml文件的时候能获取到咱们自定义的xsd。</p><ul><li>spring.handlers</li></ul><p><strong>spring.handlers文件包含了xml schema uri 和 Handler类的映射关系,在Spring的xml配置文件中出现<code>http://zml1.github.io/play</code>名空间的时候会交给BallNamespaceHandler来处理，key部分必须和xsd文件中的targetNamespace值保持一致,value是BallNamespaceHandler的包全路径</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http\://zml1.github.io/play=com.zml1.BallNamespaceHandler</span><br></pre></td></tr></table></figure><ul><li>spring.schemas</li></ul><p><strong>spring.schemas文件包含了xml schema xsd文件命名空间和文件路径的映射关系</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http\://zml1.github.io/schema/play.xsd=META-INF/play.xsd</span><br></pre></td></tr></table></figure><p>至此自定义xsd已完成,下面我们加入Spring的配置文件spring.xml中使用</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">           <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span> </span></span><br><span class="line"><span class="tag">           <span class="attr">xmlns:play</span>=<span class="string">"http://zml1.github.io/schema/play"</span> </span></span><br><span class="line"><span class="tag">           <span class="attr">xsi:schemaLocation</span>=<span class="string">" http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">                                http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">                                http://zml1.github.io/schema/play</span></span></span><br><span class="line"><span class="tag"><span class="string">                                http://zml1.github.io/schema/play.xsd"</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">play:ball</span> <span class="attr">id</span>=<span class="string">"myBall"</span> <span class="attr">name</span>=<span class="string">"myname"</span> <span class="attr">type</span>=<span class="string">"football"</span> <span class="attr">size</span>=<span class="string">"big"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>下面就可以通过@Autowires或context中获取bean使用咯。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">public class Main &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        //启动spring</span><br><span class="line">        ApplicationContext context = new ClassPathXmlApplicationContext(&quot;spring.xml&quot;);</span><br><span class="line">        //从容器中取bean</span><br><span class="line">        Ball ball = (Ball) context.getBean(&quot;myBall&quot;);</span><br><span class="line">        System.out.println(ball.getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出结果：myname</p></div><footer class="post-footer"><div class="post-tags"><a href="/tags/Spring/" rel="tag"><i class="fa fa-tag"></i> Spring</a><a href="/tags/xsd/" rel="tag"><i class="fa fa-tag"></i> xsd</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2018/07/10/Can-not-set-XXX-to-com-sun-proxy-Proxy28/" rel="next" title="java.lang.IllegalArgumentException:Can not set XXX to com.sun.proxy.$Proxy28"><i class="fa fa-chevron-left"></i> java.lang.IllegalArgumentException:Can not set XXX to com.sun.proxy.$Proxy28</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"></div></div></footer></div></article><div class="post-spread"></div></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span><span class="sidebar-toggle-line sidebar-toggle-line-middle"></span><span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap"> 文章目录</li><li class="sidebar-nav-overview" data-target="site-overview-wrap"> 站点概览</li></ul><section class="site-overview-wrap sidebar-panel"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="Menglong"><p class="site-author-name" itemprop="name">Menglong</p><p class="site-description motion-element" itemprop="description">从事人类24年</p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">7</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/index.html"><span class="site-state-item-count">4</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/index.html"><span class="site-state-item-count">9</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/zml1" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="https://www.facebook.com/profile.php?id=100013051875734" target="_blank" title="Facebook"><i class="fa fa-fw fa-facebook"></i> Facebook</a></span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/zhang-meng-long-21/activities" target="_blank" title="知乎"><i class="fa fa-fw fa-quora"></i> 知乎</a></span><span class="links-of-author-item"><a href="mailto:zml3721@163.com" target="_blank" title="E-Mail"><i class="fa fa-fw fa-envelope"></i> E-Mail</a></span></div></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#引言"><span class="nav-number">1.</span> <span class="nav-text">引言</span></a></li></ol><li class="nav-item nav-level-2"><a class="nav-link" href="#1-创建自定义的XML-Schema文件"><span class="nav-number"></span> <span class="nav-text">1.创建自定义的XML Schema文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-自定义处理器NamespaceHandler"><span class="nav-number"></span> <span class="nav-text">2.自定义处理器NamespaceHandler</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-自定义解析器BeanDefinitionParser"><span class="nav-number"></span> <span class="nav-text">3.自定义解析器BeanDefinitionParser</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-注册到Spring-handler和schema"><span class="nav-number"></span> <span class="nav-text">4.注册到Spring(handler和schema)</span></a></li></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="copyright">&copy; <span itemprop="copyrightYear">2018</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">Menglong</span></div><div class="theme-info"><div class="powered-by"></div> <span class="post-count">博客全站共8.6k字</span></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script><script>!function(e,t,o,c,a,i,n){e.DaoVoiceObject=a,e[a]=e[a]||function(){(e[a].q=e[a].q||[]).push(arguments)},e[a].l=1*new Date,i=t.createElement(o),n=t.getElementsByTagName(o)[0],i.async=1,i.src=c,i.charset="utf-8",n.parentNode.insertBefore(i,n)}(window,document,"script",("https:"==document.location.protocol?"https:":"http:")+"//widget.daovoice.io/widget/8a55c27e.js","daovoice"),daovoice("init",{app_id:"8a55c27e"}),daovoice("update")</script></body></html>